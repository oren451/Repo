/*
 * NonMilkyProduct.cpp
 *
 *  Created on: Apr 21, 2016
 *      Author: orenk
 */
#include "NonMilkyProduct.h"
#include "iostream"

using namespace std;

NonMilkyProduct::NonMilkyProduct(): MilkProduct() {

	mAmountOfNonMilkAdditions = 1;
	mNonMilkNames[1] = {"Default"};
}

NonMilkyProduct::NonMilkyProduct(char* name, int id, ShelfRow place, int weight,
		ProductType type, ExposureValue exposure, int fat, MilkType milktype,
		int colorcount, int amountOfNonMilkAdditions, char* nonMilkNames[]):
					MilkProduct(name, id, place, weight, type, exposure, fat, milktype,
							colorcount)
{
	mAmountOfNonMilkAdditions = amountOfNonMilkAdditions;
}

NonMilkyProduct::~NonMilkyProduct() {
	// TODO Auto-generated destructor stub
}

int NonMilkyProduct::calculatePrice() {
	return MilkProduct::calculatePrice() + (mAmountOfNonMilkAdditions * 5);
}

void NonMilkyProduct::print() {

	MilkProduct::print();
	cout << "(" << endl;
	for(char* str = mNonMilkNames;
			str < mNonMilkNames + (sizeof(mNonMilkNames) / sizeof(*mNonMilkNames)); ++str)
	{
		cout << str << "," << endl;
	}

	cout << "(" << mAmountOfNonMilkAdditions << ")" << endl;
}

void NonMilkyProduct::write(ostream& out) const
{
	FarmProduct::write(out);
	out << "SUGAR AMOUNT: " << mAmountOfNonMilkAdditions << endl;
}

void NonMilkyProduct::save(ofstream & out) const
{
	FarmProduct::save(out);
	out << mAmountOfNonMilkAdditions << " ";
}

void NonMilkyProduct::load(ifstream & in)
{
	FarmProduct::load(in);
	in >> mAmountOfNonMilkAdditions;
}

void NonMilkyProduct::saveBin(ofstream & out) const
{
	FarmProduct::saveBin(out);
	out.write((char*)&mAmountOfNonMilkAdditions, sizeof(mAmountOfNonMilkAdditions));
}

void NonMilkyProduct::loadBin(ifstream & in)
{
	NonMilkyProduct::loadBin(in);
	in.read((char*)&mAmountOfNonMilkAdditions, sizeof(mAmountOfNonMilkAdditions));
}
